/* ═══════════════════════════════════════════════════
   MEDIA HUB v3 — STYLESHEET
   ═══════════════════════════════════════════════════ */

/* === THEME VARIABLES === */
[data-theme="dark"]{--color-primary:#0F2F24;--color-primary-light:#1A4434;--color-accent:#7FA393;--color-accent-light:#A8C5BA;--color-accent-dark:#5F8070;--color-bg-light:#F5F1EB;--color-bg-dark:#0F2F24;--color-bg-body:#0F2F24;--color-white:#FFFFFF;--color-card:#FFFFFF;--color-text-dark:#1A3329;--color-text-light:#F5F9F7;--color-text-gray:#5A6C64;--color-text-heading:#F5F9F7;--header-bg:rgba(15,47,36,.95);--overlay-bg:linear-gradient(rgba(19,56,43,.92),rgba(17,53,41,.92))}
[data-theme="light"]{--color-primary:#0F2F24;--color-primary-light:#1A4434;--color-accent:#5F8070;--color-accent-light:#7FA393;--color-accent-dark:#4a6b5c;--color-bg-light:#F5F1EB;--color-bg-dark:#E8E2DA;--color-bg-body:#F5F1EB;--color-white:#FFFFFF;--color-card:#FFFFFF;--color-text-dark:#1A3329;--color-text-light:#1A3329;--color-text-gray:#5A6C64;--color-text-heading:#0F2F24;--header-bg:rgba(245,241,235,.95);--overlay-bg:linear-gradient(rgba(245,241,235,.95),rgba(232,226,218,.95))}
:root{--font-heading:'Poppins',sans-serif;--font-body:'Inter',sans-serif;--spacing-xs:.5rem;--spacing-sm:1rem;--spacing-md:1.5rem;--spacing-lg:2.5rem;--spacing-xl:4rem;--border-radius:12px;--shadow:0 4px 16px rgba(0,0,0,.08);--shadow-lg:0 8px 24px rgba(0,0,0,.12);--transition:.3s ease;--bg-image:url('https://cdn.magicdecor.in/com/2023/10/17181656/Dark-Green-Damask-Wallpaper-for-Walls-710x488.jpg')}

/* === RESET === */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:var(--font-body);color:var(--color-text-dark);background-color:var(--color-bg-body);background-image:var(--overlay-bg),var(--bg-image);background-repeat:repeat;background-attachment:fixed;background-size:1500px;display:flex;flex-direction:column;min-height:100vh;line-height:1.6;overflow-x:hidden;transition:background-color .4s,color .4s}
a{text-decoration:none;color:inherit}
img{display:block;max-width:100%}

/* === HEADER === */
.header{position:fixed;top:0;left:0;right:0;background-color:var(--header-bg);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(127,163,147,.1);box-shadow:var(--shadow);z-index:1000;transition:background-color .4s}
.nav{display:flex;justify-content:space-between;align-items:center;height:80px;max-width:1200px;margin:0 auto;padding:0 var(--spacing-md)}
.logo{font-family:var(--font-heading);font-size:1.5rem;font-weight:800;color:var(--color-accent);letter-spacing:-.02em}
.logo span{color:var(--color-text-light);font-weight:400}
.nav-menu{display:flex;align-items:center;gap:.5rem;list-style:none}
.nav-link{font-size:.85rem;font-weight:600;color:var(--color-text-light);text-transform:uppercase;letter-spacing:.1em;padding:.6rem 1rem;transition:all var(--transition);background:none;border:none;cursor:pointer;font-family:var(--font-body);border-radius:8px;display:flex;align-items:center;gap:6px;position:relative}
.nav-link:hover{color:var(--color-accent);background:rgba(127,163,147,.08)}
.nav-link.active{color:var(--color-primary);background:var(--color-accent);border-radius:50px}
.nav-badge{font-size:.6rem;background:rgba(127,163,147,.25);color:var(--color-accent-light);padding:1px 6px;border-radius:10px;margin-left:4px;font-weight:700;min-width:18px;text-align:center}
.nav-link.active .nav-badge{background:rgba(15,47,36,.2);color:var(--color-primary)}

/* Theme toggle */
.theme-toggle{background:none;border:1px solid rgba(127,163,147,.2);border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--color-accent);transition:all var(--transition);margin-right:auto;margin-left:1rem}
.theme-toggle:hover{background:rgba(127,163,147,.15);border-color:var(--color-accent)}
.theme-toggle svg{width:18px;height:18px}
[data-theme="dark"] .icon-moon{display:none}
[data-theme="light"] .icon-sun{display:none}
[data-theme="light"] .icon-moon{display:block}

/* Mobile */
.mobile-toggle{display:none;flex-direction:column;gap:5px;background:none;border:none;cursor:pointer;padding:8px}
.mobile-toggle span{width:25px;height:3px;background-color:var(--color-accent);transition:var(--transition);border-radius:2px}
.mobile-toggle.active span:nth-child(1){transform:rotate(45deg) translate(6px,6px)}
.mobile-toggle.active span:nth-child(2){opacity:0}
.mobile-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}

/* === MAIN === */
.main-content{max-width:1200px;margin:0 auto;padding:110px var(--spacing-md) var(--spacing-xl);width:100%}
.page{display:none;animation:fadeIn .5s ease}
.page.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* === PAGE HEADER === */
.page-header{text-align:center;margin-bottom:var(--spacing-xl);padding:var(--spacing-lg) 0}
.page-label{display:inline-flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:700;letter-spacing:.2em;text-transform:uppercase;color:var(--color-accent);margin-bottom:var(--spacing-sm);padding:.5rem 1.2rem;background:rgba(127,163,147,.1);border-radius:50px;backdrop-filter:blur(5px)}
.page-label .label-icon{width:18px;height:18px;flex-shrink:0}
.page-header h1{font-family:var(--font-heading);font-size:clamp(2.2rem,5vw,3.5rem);font-weight:800;color:var(--color-text-heading);margin-bottom:var(--spacing-xs);line-height:1.1;text-shadow:0 2px 10px rgba(0,0,0,.15)}
.page-header p{font-size:1.1rem;color:var(--color-accent-light);max-width:560px;margin:0 auto;line-height:1.6}
.page-divider{width:60px;height:3px;margin:var(--spacing-sm) auto 0;background:var(--color-accent);border-radius:3px}

/* === SEARCH BAR === */
.search-bar{position:relative;max-width:500px;margin:0 auto var(--spacing-xl)}
.search-icon{position:absolute;left:16px;top:50%;transform:translateY(-50%);width:18px;height:18px;color:var(--color-accent-dark);pointer-events:none}
.search-input{width:100%;padding:.85rem 1rem .85rem 48px;border:1px solid rgba(127,163,147,.2);border-radius:50px;background:rgba(127,163,147,.06);color:var(--color-text-light);font-family:var(--font-body);font-size:.95rem;outline:none;transition:all var(--transition)}
.search-input::placeholder{color:var(--color-accent-dark);opacity:.7}
.search-input:focus{border-color:var(--color-accent);background:rgba(127,163,147,.12);box-shadow:0 0 0 3px rgba(127,163,147,.1)}

/* === GENRE SECTIONS === */
.genre-section{margin-bottom:var(--spacing-xl)}
.genre-title{display:flex;align-items:center;gap:.8rem;margin-bottom:var(--spacing-md);padding-bottom:.8rem;border-bottom:1px solid rgba(127,163,147,.15)}
.genre-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0;color:white}
.genre-icon svg{width:20px;height:20px}
.genre-icon.hip-hop{background:linear-gradient(135deg,#667eea,#764ba2)}
.genre-icon.pop{background:linear-gradient(135deg,#f093fb,#f5576c)}
.genre-icon.rnb{background:linear-gradient(135deg,#4facfe,#00f2fe)}
.genre-icon.rock{background:linear-gradient(135deg,#fa709a,#fee140)}
.genre-icon.comedy{background:linear-gradient(135deg,#fccb90,#d57eeb)}
.genre-icon.romance{background:linear-gradient(135deg,#f093fb,#f5576c)}
.genre-icon.action{background:linear-gradient(135deg,#fa709a,#fee140)}
.genre-icon.scifi{background:linear-gradient(135deg,#4facfe,#00f2fe)}
.genre-icon.kdrama{background:linear-gradient(135deg,#a18cd1,#fbc2eb)}
.genre-icon.thriller{background:linear-gradient(135deg,#667eea,#764ba2)}
.genre-title h2{font-family:var(--font-heading);font-size:1.5rem;font-weight:700;color:var(--color-text-heading)}
.genre-title .count{font-size:.8rem;color:var(--color-accent-dark);font-weight:500;margin-left:auto;letter-spacing:.5px;text-transform:uppercase;background:rgba(127,163,147,.1);padding:.25rem .7rem;border-radius:20px}
.genre-top-link{display:inline-flex;align-items:center;gap:.4rem;margin-top:var(--spacing-sm);font-size:.8rem;color:var(--color-accent-dark);font-weight:600;transition:color var(--transition)}
.genre-top-link svg{width:14px;height:14px}
.genre-top-link:hover{color:var(--color-accent)}

/* === CARD GRID === */
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:var(--spacing-lg)}

/* === GENRE BORDER STRIPES === */
.genre-border-opm{border-left:4px solid #764ba2}
.genre-border-pop{border-left:4px solid #f5576c}
.genre-border-rnb{border-left:4px solid #4facfe}
.genre-border-rock{border-left:4px solid #fa709a}
.genre-border-comedy{border-left:4px solid #d57eeb}
.genre-border-romance{border-left:4px solid #f5576c}
.genre-border-action{border-left:4px solid #fa709a}
.genre-border-scifi{border-left:4px solid #4facfe}
.genre-border-kdrama{border-left:4px solid #a18cd1}
.genre-border-thriller{border-left:4px solid #667eea}

/* === BEAT CARD === */
.beat-card{background:var(--color-card);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow);transition:all var(--transition);position:relative}
.beat-card:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg)}
.beat-card .card-image{position:relative;width:100%;aspect-ratio:1/1;overflow:hidden;background:var(--color-bg-light)}
.beat-card .card-image img{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}
.beat-card:hover .card-image img{transform:scale(1.05)}
.beat-card .card-body{padding:var(--spacing-md)}

/* Clickable artist & song names */
.artist-name{display:block;font-size:.78rem;color:var(--color-accent-dark);font-weight:700;text-transform:uppercase;letter-spacing:.15em;margin-bottom:.2rem;transition:color var(--transition);cursor:pointer}
.artist-name:hover{color:var(--color-accent)}
.song-title{display:block;font-family:var(--font-heading);font-size:1.25rem;font-weight:700;color:var(--color-primary);margin-bottom:.3rem;line-height:1.3;transition:color var(--transition);cursor:pointer}
.song-title:hover{color:var(--color-accent-dark)}
.film-title-link{display:block;font-family:var(--font-heading);font-size:1.3rem;font-weight:700;color:var(--color-primary);margin-bottom:.4rem;line-height:1.3;transition:color var(--transition)}
.film-title-link:hover{color:var(--color-accent-dark)}

.beat-card .song-info{font-size:.9rem;color:var(--color-text-gray);line-height:1.6;margin-bottom:var(--spacing-sm)}
.beat-card .audio-player{background:var(--color-bg-light);border-radius:10px;padding:.75rem}
.beat-card .placeholder-audio-label{font-size:.72rem;color:var(--color-accent-dark);text-align:center;margin-bottom:.4rem;letter-spacing:.3px;font-weight:600}
.beat-card audio{width:100%;height:36px;border-radius:6px}

/* === SOURCE LINKS (Streaming) === */
.source-links{display:flex;align-items:center;gap:.6rem;margin-bottom:var(--spacing-sm);padding:.6rem .75rem;background:rgba(127,163,147,.06);border-radius:8px;border:1px solid rgba(127,163,147,.1)}
.source-label{font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:var(--color-accent-dark);white-space:nowrap}
.source-icons{display:flex;gap:.4rem;margin-left:auto}
.source-btn{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all var(--transition);background:var(--color-primary);color:var(--color-accent)}
.source-btn svg{width:16px;height:16px;fill:currentColor}
.source-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}
.source-btn.spotify:hover{background:#1DB954;color:#fff}
.source-btn.apple:hover{background:#FC3C44;color:#fff}
.source-btn.youtube:hover{background:#FF0000;color:#fff}

/* Film/TV streaming where to watch */
.watch-sources{display:flex;align-items:center;gap:.5rem;margin-bottom:var(--spacing-sm);flex-wrap:wrap}
.watch-label{font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:var(--color-accent-dark)}
.watch-btn{padding:.3rem .7rem;border-radius:6px;font-size:.72rem;font-weight:600;background:var(--color-primary);color:var(--color-accent);transition:all var(--transition);display:inline-flex;align-items:center;gap:.3rem;border:1px solid rgba(127,163,147,.15)}
.watch-btn:hover{background:var(--color-accent);color:var(--color-primary);transform:translateY(-1px)}

/* === FILM CARD === */
.film-card{background:var(--color-card);border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow);transition:all var(--transition);position:relative}
.film-card:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg)}
.film-card .card-poster{position:relative;width:100%;aspect-ratio:2/3;overflow:hidden;background:var(--color-bg-light)}
.film-card .card-poster img{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}
.film-card:hover .card-poster img{transform:scale(1.05)}
.film-card .card-body{padding:var(--spacing-md)}
.film-card .film-meta{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.5rem}
.film-card .meta-tag{font-size:.75rem;padding:.25rem .7rem;border-radius:20px;background:rgba(127,163,147,.15);color:var(--color-accent-dark);font-weight:700;letter-spacing:.05em;text-transform:uppercase}
.film-card .synopsis{font-size:.9rem;color:var(--color-text-gray);line-height:1.65;margin-bottom:.6rem}
.film-card .credits{font-size:.85rem;color:var(--color-text-gray);margin-bottom:var(--spacing-sm);line-height:1.7}
.film-card .credits strong{color:var(--color-primary);font-weight:700}

/* === PERSONAL REVIEW === */
.personal-review{font-size:.85rem;color:var(--color-text-gray);margin-bottom:.7rem;padding:.5rem .75rem;background:rgba(127,163,147,.07);border-left:3px solid var(--color-accent);border-radius:0 6px 6px 0;font-style:italic;line-height:1.5}
.review-label{font-style:normal;font-weight:700;color:var(--color-accent-dark);margin-right:.3rem}

/* === TRAILER BUTTON === */
.trailer-btn{display:inline-flex;align-items:center;gap:.5rem;padding:.65rem 1.5rem;border:2px solid var(--color-accent);border-radius:50px;background:transparent;color:var(--color-accent);font-family:var(--font-body);font-weight:600;font-size:.85rem;cursor:pointer;transition:all var(--transition);letter-spacing:.5px}
.trailer-btn svg{width:16px;height:16px}
.trailer-btn:hover{background:var(--color-accent);color:var(--color-primary);transform:translateY(-2px);box-shadow:0 6px 20px rgba(127,163,147,.25)}

/* === PLACEHOLDERS === */
.placeholder-overlay{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(15,47,36,.55);gap:.6rem;transition:background var(--transition)}
.beat-card:hover .placeholder-overlay,.film-card:hover .placeholder-overlay{background:rgba(15,47,36,.35)}
.placeholder-icon{width:48px;height:48px;color:rgba(255,255,255,.7)}
.placeholder-icon svg{width:100%;height:100%}
.placeholder-label{color:white;font-weight:600;font-size:.85rem;padding:.4rem 1rem;border:2px solid rgba(255,255,255,.7);border-radius:30px;backdrop-filter:blur(4px);letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.4)}

/* === FAVORITE BUTTON === */
.card-favorite{position:absolute;top:12px;right:12px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(0,0,0,.35);backdrop-filter:blur(6px);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition);color:rgba(255,255,255,.7)}
.card-favorite svg{width:18px;height:18px}
.card-favorite:hover{background:rgba(0,0,0,.55);color:#fff;transform:scale(1.1)}
.card-favorite.active{color:#f5576c;background:rgba(245,87,108,.15)}
.card-favorite.active svg{fill:#f5576c;stroke:#f5576c}

/* === NOW PLAYING BAR === */
.now-playing{position:fixed;bottom:0;left:0;right:0;background:var(--color-primary);border-top:1px solid rgba(127,163,147,.2);z-index:999;transform:translateY(100%);transition:transform .4s cubic-bezier(.4,0,.2,1);box-shadow:0 -4px 20px rgba(0,0,0,.2)}
.now-playing.active{transform:translateY(0)}
.np-inner{max-width:1200px;margin:0 auto;padding:.6rem var(--spacing-md);display:flex;align-items:center;gap:.75rem}
.np-cover{width:44px;height:44px;border-radius:8px;object-fit:cover;background:var(--color-primary-light)}
.np-info{flex:1;min-width:0}
.np-title{font-family:var(--font-heading);font-size:.9rem;font-weight:700;color:var(--color-text-light);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.np-artist{font-size:.75rem;color:var(--color-accent-dark);font-weight:500}
.np-close{width:32px;height:32px;border:none;background:rgba(127,163,147,.1);border-radius:50%;cursor:pointer;color:var(--color-accent);display:flex;align-items:center;justify-content:center;transition:all var(--transition);flex-shrink:0}
.np-close svg{width:16px;height:16px}
.np-close:hover{background:rgba(127,163,147,.25);color:#fff}

/* Equalizer bars animation */
.np-eq{display:flex;align-items:flex-end;gap:2px;height:20px;flex-shrink:0}
.np-eq span{width:3px;background:var(--color-accent);border-radius:2px;animation:eqBounce 1s ease-in-out infinite}
.np-eq span:nth-child(1){animation-delay:0s;height:8px}
.np-eq span:nth-child(2){animation-delay:.15s;height:14px}
.np-eq span:nth-child(3){animation-delay:.3s;height:10px}
.np-eq span:nth-child(4){animation-delay:.45s;height:16px}
@keyframes eqBounce{0%,100%{height:4px}50%{height:18px}}

/* === TRAILER MODAL === */
.trailer-modal{position:fixed;inset:0;z-index:2000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all var(--transition)}
.trailer-modal.active{opacity:1;visibility:visible}
.tm-backdrop{position:absolute;inset:0;background:rgba(15,47,36,.92);backdrop-filter:blur(10px)}
.tm-content{position:relative;width:90%;max-width:900px;aspect-ratio:16/9;border-radius:var(--border-radius);overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.5);transform:scale(.9);transition:transform var(--transition)}
.trailer-modal.active .tm-content{transform:scale(1)}
.tm-video{width:100%;height:100%;background:#000}
.tm-video iframe{width:100%;height:100%;border:none}
.tm-close{position:absolute;top:-40px;right:0;width:36px;height:36px;background:rgba(255,255,255,.1);color:white;border:none;border-radius:50%;font-size:1.4rem;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center;z-index:10}
.tm-close:hover{background:var(--color-accent);transform:rotate(90deg)}

/* === LIGHTBOX === */
.lightbox{position:fixed;inset:0;background-color:rgba(15,47,36,.95);z-index:2000;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:var(--spacing-md);opacity:0;visibility:hidden;transition:all var(--transition);backdrop-filter:blur(10px);cursor:zoom-out}
.lightbox.active{opacity:1;visibility:visible}
.lightbox-close{position:absolute;top:1.5rem;right:1.5rem;width:48px;height:48px;background:rgba(255,255,255,.08);color:white;border:1px solid rgba(255,255,255,.15);border-radius:50%;font-size:1.6rem;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center;z-index:2001}
.lightbox-close:hover{background:var(--color-accent);border-color:var(--color-accent);transform:rotate(90deg)}
.lightbox-content{max-width:90vw;max-height:85vh;display:flex;align-items:center;justify-content:center;cursor:default}
.lightbox-content img{max-width:100%;max-height:85vh;border-radius:8px;box-shadow:0 20px 60px rgba(0,0,0,.5);object-fit:contain}
.lightbox-caption{color:var(--color-accent-light);font-size:1rem;text-align:center;max-width:600px;font-weight:300}

/* === PROGRESS WRAP === */
.progress-wrap{position:fixed;right:30px;bottom:30px;height:50px;width:50px;cursor:pointer;display:block;border-radius:50px;box-shadow:inset 0 0 0 2px rgba(127,163,147,.2);z-index:10000;opacity:0;visibility:hidden;transform:translateY(15px);transition:all 200ms linear;background:var(--color-primary)}
.progress-wrap.active-progress{opacity:1;visibility:visible;transform:translateY(0)}
.now-playing.active ~ .progress-wrap{bottom:90px}
.progress-wrap svg.progress-circle path{stroke:var(--color-accent);stroke-width:4;fill:none;transition:all 200ms linear}
.progress-wrap .progress-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--color-accent);font-size:24px;line-height:1;transition:all 200ms linear}
.progress-wrap:hover{transform:translateY(-5px);box-shadow:inset 0 0 0 2px var(--color-accent-light)}
.progress-wrap:hover .progress-icon{color:var(--color-white);transform:translate(-50%,-60%)}
.progress-wrap:hover svg.progress-circle path{stroke:var(--color-white)}

/* === FOOTER === */
.site-footer{text-align:center;padding:var(--spacing-lg) var(--spacing-md);border-top:1px solid rgba(127,163,147,.12);color:var(--color-accent-dark);font-size:.85rem;max-width:1200px;margin:0 auto;width:100%}

/* === UTILITY === */
.beat-card.search-hidden,.film-card.search-hidden,.genre-section.search-hidden{display:none!important}

/* === RESPONSIVE === */
@media(max-width:768px){
    .mobile-toggle{display:flex}
    .theme-toggle{margin-right:0;margin-left:auto}
    .nav-menu{position:fixed;top:80px;left:0;right:0;flex-direction:column;align-items:stretch;gap:0;background-color:rgba(15,47,36,.98);backdrop-filter:blur(10px);padding:var(--spacing-md);max-height:0;overflow:hidden;opacity:0;transition:all .4s ease;border-bottom:1px solid rgba(255,255,255,.1)}
    .nav-menu.active{max-height:500px;opacity:1}
    .nav-link{padding:var(--spacing-sm);border-bottom:1px solid rgba(255,255,255,.05)}
    .card-grid{grid-template-columns:1fr}
    .main-content{padding:100px var(--spacing-sm) var(--spacing-lg)}
    .page-header h1{font-size:2rem}
    .now-playing.active ~ .progress-wrap{bottom:80px}
    .source-links{flex-wrap:wrap}
}
@media(min-width:769px) and (max-width:1024px){.card-grid{grid-template-columns:repeat(2,1fr)}}

/* === SCROLLBAR === */
::-webkit-scrollbar{width:8px}
::-webkit-scrollbar-track{background:var(--color-primary)}
::-webkit-scrollbar-thumb{background:var(--color-accent-dark);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--color-accent)}

/* === CAROUSEL === */
.card-grid.is-carousel{
  display:flex;
  flex-wrap:nowrap;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  scroll-behavior:smooth;
  gap:var(--spacing-lg);
  padding-bottom:.5rem;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.card-grid.is-carousel::-webkit-scrollbar{display:none}
.card-grid.is-carousel .film-card,
.card-grid.is-carousel .beat-card{
  flex:0 0 320px;
  scroll-snap-align:start;
}
.carousel-nav{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:1rem;
  margin-top:1.2rem;
}
.carousel-btn{
  width:40px;height:40px;
  border-radius:50%;
  background:var(--color-primary-light);
  border:1px solid rgba(127,163,147,.25);
  color:var(--color-accent);
  cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  transition:all var(--transition);
  flex-shrink:0;
}
.carousel-btn:hover{background:var(--color-accent);color:var(--color-primary);border-color:var(--color-accent)}
.carousel-btn:disabled{opacity:.3;cursor:default;pointer-events:none}
.carousel-btn svg{width:18px;height:18px;flex-shrink:0}
.carousel-dots{display:flex;gap:.5rem;align-items:center}
.carousel-dot{
  width:8px;height:8px;
  border-radius:50%;
  background:rgba(127,163,147,.25);
  border:none;cursor:pointer;
  transition:all var(--transition);
  padding:0;
}
.carousel-dot.active{background:var(--color-accent);transform:scale(1.3)}
.carousel-dot:hover{background:rgba(127,163,147,.5)}
@media(max-width:768px){
  .card-grid.is-carousel .film-card,
  .card-grid.is-carousel .beat-card{flex:0 0 280px}
}

/* === CAROUSEL === */
.carousel-wrap{position:relative;overflow:hidden;padding:0 0 .5rem}
.carousel-track{display:flex;gap:24px;transition:transform .42s cubic-bezier(.4,0,.2,1);will-change:transform}
.carousel-track .film-card{flex:0 0 calc(50% - 12px);min-width:0}
.carousel-btn{position:absolute;top:38%;transform:translateY(-50%);z-index:20;width:42px;height:42px;border-radius:50%;background:var(--color-primary);border:2px solid var(--color-accent);color:var(--color-accent);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition);box-shadow:0 4px 20px rgba(0,0,0,.35);padding:0}
.carousel-btn svg{width:20px;height:20px;flex-shrink:0}
.carousel-btn:hover{background:var(--color-accent);color:var(--color-primary);transform:translateY(-50%) scale(1.08)}
.carousel-btn.prev{left:-14px}
.carousel-btn.next{right:-14px}
.carousel-btn:disabled{opacity:.25;cursor:default;pointer-events:none}
.carousel-dots{display:flex;justify-content:center;align-items:center;gap:6px;margin-top:.9rem}
.carousel-dot{width:8px;height:8px;border-radius:50%;background:rgba(127,163,147,.3);border:none;cursor:pointer;transition:all var(--transition);padding:0;flex-shrink:0}
.carousel-dot.active{background:var(--color-accent);width:22px;border-radius:4px}
.carousel-dot:hover:not(.active){background:rgba(127,163,147,.6)}
@media(max-width:768px){
    .carousel-track .film-card{flex:0 0 100%}
    .carousel-btn.prev{left:-8px}
    .carousel-btn.next{right:-8px}
}
@media(min-width:769px) and (max-width:1024px){
    .carousel-track .film-card{flex:0 0 calc(50% - 12px)}
}
@media(min-width:1025px){
    .carousel-track .film-card{flex:0 0 calc(33.333% - 16px)}
}